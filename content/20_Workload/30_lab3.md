---
title: "Daemonsets"
weight: 30
draft : false
pre: "<b>C. </b>"
---

## Challenge

Use `kubectl` to

- Create a `daemonset` called `dset`
  - image `quay.io/fluentd_elasticsearch/fluentd:v2.5.2`

---

{{%expand "Expand here to see the solution" %}}


## Solution

> [doc reference](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/)


```bash
# create a deployment
kubectl create deployment dset --image=quay.io/fluentd_elasticsearch/fluentd:v2.5.2 --dry-run=client -o yaml > dset.yaml

# edit the yaml to change it from a deployment to daemonset make the below changes
kind: Deployment 
change to -->   kind: DaemonSet

 remove  creationTimestamp: null
 remove  replicas: 1
 remove  strategy
 remove  resources
 remove  status

# so it now looks like this
apiVersion: apps/v1  
kind: DaemonSet     
metadata:          
  labels:         
    app: dset    
  name: dset    
spec:         
  selector:  
    matchLabels:
      app: dset
  template:   
    metadata:
      labels: 
        app: dset
    spec:       
      containers: 
      - image: quay.io/fluentd_elasticsearch/fluentd:v2.5.2  
        name: fluentd             
```
{{% /expand %}}
