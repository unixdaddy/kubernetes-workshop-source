---
title: "Daemonsets"
weight: 30
draft : false
pre: "<b>C. </b>"
---

## Challenge

Use `kubectl` to

- Create a `daemonset` called `dset`
  - image `quay.io/fluentd_elasticsearch/fluentd:v2.5.2`

---

{{%expand "Expand here to see the solution" %}}


## Solution

> [doc reference](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/)


```bash
# create a deployment
kubectl create deployment dset --image=quay.io/fluentd_elasticsearch/fluentd:v2.5.2 --dry-run=client -o yaml > dset.yaml
# edit the yaml to change it from a deployment to daemonset the output below show how to change it
apiVersion: apps/v1                                             apiVersion: apps/v1
kind: DaemonSet                                               | kind: Deployment
metadata:                                                       metadata:
                                                              >   creationTimestamp: null
  labels:                                                         labels:
    app: dset                                                       app: dset
  name: dset                                                      name: dset
spec:                                                           spec:
                                                              >   replicas: 1
  selector:                                                       selector:
    matchLabels:                                                    matchLabels:
      app: dset                                                       app: dset
                                                              >   strategy: {}
  template:                                                       template:
    metadata:                                                       metadata:
      creationTimestamp: null                                         creationTimestamp: null
      labels:                                                         labels:
        app: dset                                                       app: dset
    spec:                                                           spec:
      containers:                                                     containers:
      - image: quay.io/fluentd_elasticsearch/fluentd:v2.5.2           - image: quay.io/fluentd_elasticsearch/fluentd:v2.5.2
        name: fluentd                                                   name: fluentd
                                                              >         resources: {}
                                                              > status: {}

```
{{% /expand %}}
